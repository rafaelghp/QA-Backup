import java.util.List;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

public class buscaEmpresaPage {
	
	private DSL dsl;
	
	public buscaEmpresaPage(WebDriver driver) {
		dsl= new DSL(driver);
	}
	
	public void setEstado(String Estado) throws InterruptedException {
		dsl.escreveEnterId("busca-filtro-estados", Estado);
		
	}
	
	public void setCidade(String Cidade) throws InterruptedException {
		dsl.escreveEnterId("busca-filtro-cidade", Cidade);
		
	}
	
	public void setBairro(String bairro) throws InterruptedException{
		dsl.escreveEnterId("busca-filtro-bairro", bairro);
	}
	
	public void setCnae(String cnae) throws InterruptedException{
		dsl.escreveEnterId("busca-filtro-cnae", cnae);
	}
	public void atualizarPesquisa() {
		dsl.clicaId("btn-filtrar");
	}
	
	public void regiao() {
		dsl.clicaId("filtro-regiao");
	}
	
	public void setor() {
		dsl.clicaId("filtro-setor");
	}
	
	public String resultado() {
		return dsl.pegaValor("qtd-registros");
	}
	public boolean verificaEstado(String estado) {
       WebElement element = dsl.retornaXpath("//*[@id=\"main-table\"]/tbody/tr[1]/td[3]/div/div[3]");
       if(element != null) {
    	   String[] elementArray = element.getText().split(", ");
    	   return elementArray[1].toLowerCase().contains(estado.toLowerCase());
       }
	   return false;
	}
	
	public boolean verificaCidade(String cidade) {
	       WebElement element = dsl.retornaXpath("//*[@id=\"main-table\"]/tbody/tr[1]/td[3]/div/div[3]");
	       if(element != null) {
	    	   String[] elementArray = element.getText().split(", ");
	    	   return elementArray[0].toLowerCase().contains(cidade.toLowerCase());
	       }
		   return false;
		}
	
}
